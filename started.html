

  
 
  
 


<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting Started &mdash; Soccermetrics API Python Client Documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="srstatic/css/custom-styles.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/3.0.0/cosmo/bootstrap.min.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Soccermetrics API Python Client Documentation" href="index.html" />
    <link rel="next" title="User Guide" href="guide/main.html" />
    <link rel="prev" title="Installation" href="installation.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">API Python Client</a>
        <span class="navbar-text navbar-version pull-left"><b>0.8</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Docs <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#virtual-environment-install">Virtual Environment Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#system-wide-install">System-Wide Install</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-your-api-credentials">Get Your API Credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-your-api-credentials">Using Your API Credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#match-information">Match Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="#match-statistics">Match Statistics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="guide/main.html">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="guide/resources.html">Accessing Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/validation.html">Validation Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/personnel.html">Personnel Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/match.html">Match Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide/analytics.html">Match Analytics Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference.html#module-soccermetrics.rest">Client Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#resources">Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#module-soccermetrics">Exceptions</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Getting Started</a><ul>
<li><a class="reference internal" href="#get-your-api-credentials">Get Your API Credentials</a></li>
<li><a class="reference internal" href="#using-your-api-credentials">Using Your API Credentials</a></li>
<li><a class="reference internal" href="#match-information">Match Information</a></li>
<li><a class="reference internal" href="#match-statistics">Match Statistics</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li><a href="installation.html"
         title="Previous Chapter: Installation">&laquo; Installation</a></li>
  <li><a href="guide/main.html"
         title="Next Chapter: User Guide">User Guide &raquo;</a></li>
              
            
            
            
            
              <li></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="span12">
      
  <div class="section" id="getting-started">
<span id="gettingstarted"></span><h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>To start using the Soccermetrics API, create a <tt class="docutils literal"><span class="pre">SoccermetricsRestClient</span></tt>.</p>
<div class="section" id="get-your-api-credentials">
<h2>Get Your API Credentials<a class="headerlink" href="#get-your-api-credentials" title="Permalink to this headline">¶</a></h2>
<p>In order to use the Soccermetrics API Client, you must have a Soccermetrics API account.</p>
<p>To get an account, go to the
<a class="reference external" href="https://developer.soccermetrics.net">Soccermetrics Connect API website</a>
where you will fill in your contact information and select a usage plan.</p>
<p>You will receive your API ID and secret key in a few minutes, unless you signed up
for one of our student plans that require approval.</p>
</div>
<div class="section" id="using-your-api-credentials">
<h2>Using Your API Credentials<a class="headerlink" href="#using-your-api-credentials" title="Permalink to this headline">¶</a></h2>
<p>You&#8217;ll need your Soccermetrics API credentials to use the <tt class="docutils literal"><span class="pre">SoccermetricsRestClient</span></tt>.
These get passed to the constructor or via environment variables.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">soccermetrics.rest</span> <span class="kn">import</span> <span class="n">SoccermetricsRestClient</span>

<span class="n">appID</span> <span class="o">=</span> <span class="s">&quot;f53baabb&quot;</span>
<span class="n">appKey</span> <span class="o">=</span> <span class="s">&quot;demo1234567890demo1234567890&quot;</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">SoccermetricsRestClient</span><span class="p">(</span><span class="n">account</span><span class="o">=</span><span class="n">appID</span><span class="p">,</span><span class="n">api_key</span><span class="o">=</span><span class="n">appKey</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is a fictitious API ID and key.  DO NOT USE IT!!</p>
</div>
<p>If you call <tt class="docutils literal"><span class="pre">SoccermetricsRestClient</span></tt> without any parameters, the constructor
will look for <tt class="docutils literal"><span class="pre">SOCCERMETRICS_APP_ID</span></tt> and <tt class="docutils literal"><span class="pre">SOCCERMETRICS_APP_KEY</span></tt> variables
inside the current environment.</p>
<p>We recommend that you keep your credentials in environment variables.
That way you won&#8217;t have to worry about accidentally posting your credentials
in a public place.</p>
</div>
<div class="section" id="match-information">
<h2>Match Information<a class="headerlink" href="#match-information" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s get information from all matches for a specific matchday in a league competition.
We&#8217;ll use it to access lineups and eventually match statistics.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">matches</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">club</span><span class="o">.</span><span class="n">match</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">matchday</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">: </span><span class="si">%s</span><span class="s"> vs </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">match_date</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">home_team_name</span><span class="p">,</span>
                            <span class="n">match</span><span class="o">.</span><span class="n">away_team_name</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">In reality, you would pass the name of the competition in the call.  Otherwise,
you would receive all of the league matches for that matchday, over <em>all</em> of the
competitions in the Soccermetrics database.</p>
</div>
<p>To access matches from the group stage of a competition, we need to include <em>at minimum</em> the
group round and group name:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">matches</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">natl</span><span class="o">.</span><span class="n">match</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">round_name</span><span class="o">=</span><span class="s">&#39;Group Stage&#39;</span><span class="p">,</span> <span class="n">group</span><span class="o">=</span><span class="n">A</span><span class="p">,</span> <span class="n">matchday</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">: </span><span class="si">%s</span><span class="s"> vs </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">match_date</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">home_team_name</span><span class="p">,</span>
                            <span class="n">match</span><span class="o">.</span><span class="n">away_team_name</span><span class="p">)</span>
</pre></div>
</div>
<p>If we want to retrieve match from the knockout phase of a competition, we must pass
the round name:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">matches</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">club</span><span class="o">.</span><span class="n">match</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">round_name</span><span class="o">=</span><span class="s">&quot;Third Round&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">: </span><span class="si">%s</span><span class="s"> vs </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">match_date</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">home_team_name</span><span class="p">,</span>
                            <span class="n">match</span><span class="o">.</span><span class="n">away_team_name</span><span class="p">)</span>
</pre></div>
</div>
<p>Almost all of the resources have hyperlinks that refer to related resources.  In this
case we use the hyperlinks to access lineup data related to each match.  We revise the
above code so that we can get starting lineups:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">matches</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">club</span><span class="o">.</span><span class="n">match</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">matchday</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">team_name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">match</span><span class="o">.</span><span class="n">home_team_name</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">away_team_name</span><span class="p">]:</span>
        <span class="n">lineup_data</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">match</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">lineups</span><span class="p">,</span> <span class="n">player_team_name</span><span class="o">=</span><span class="n">team_name</span><span class="p">,</span>
            <span class="n">is_starting</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">starters</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">player_name</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">lineup_data</span><span class="p">]</span>
        <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">team_name</span><span class="p">,</span> <span class="n">starters</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="match-statistics">
<h2>Match Statistics<a class="headerlink" href="#match-statistics" title="Permalink to this headline">¶</a></h2>
<p>We can go further and extract match statistics for each game, and create new
types of statistics from those.  Let&#8217;s collect total shot data to develop
Total Shot Ratios for each team.  Again we use the hyperlinks associated
with each match to access the statistical data.  Revising the above code once more:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ratio</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">club</span><span class="o">.</span><span class="n">match</span><span class="o">.</span><span class="n">information</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">matchday</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
    <span class="n">total_shots</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">team_name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">match</span><span class="o">.</span><span class="n">home_team_name</span><span class="p">,</span> <span class="n">match</span><span class="o">.</span><span class="n">away_team_name</span><span class="p">]:</span>
        <span class="n">shot_data</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">match</span><span class="o">.</span><span class="n">link</span><span class="o">.</span><span class="n">stats</span><span class="o">.</span><span class="n">shots</span><span class="o">.</span><span class="n">totals</span><span class="p">,</span> <span class="n">player_team_name</span><span class="o">=</span><span class="n">team_name</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">total_shots</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">ontarget</span><span class="o">+</span><span class="n">x</span><span class="o">.</span><span class="n">offtarget</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">shots_data</span><span class="p">]))</span>
    <span class="n">tsr</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">total_shots</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">total_shots</span><span class="p">))</span>
    <span class="n">ratio</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">team</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">home_team_name</span><span class="p">,</span><span class="n">tsr</span><span class="o">=</span><span class="n">tsr</span><span class="p">(</span><span class="mi">0</span><span class="p">)))</span>
    <span class="n">ratio</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">team</span><span class="o">=</span><span class="n">match</span><span class="o">.</span><span class="n">away_team_name</span><span class="p">,</span><span class="n">tsr</span><span class="o">=</span><span class="n">tsr</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>

<span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">ratio</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;</span><span class="si">%s</span><span class="s">: </span><span class="si">%0.3f</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;team&#39;</span><span class="p">],</span><span class="n">data</span><span class="p">[</span><span class="s">&#39;tsr&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013-2014, Soccermetrics Research, LLC.<br/>
      Last updated on Aug 03, 2014.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>